"use strict";function convertTimeToInteger(a){return parseInt(moment(a,"HH:mm:ss").format("HH"))+parseInt(moment(a,"HH:mm:ss").format("mm"))/60}angular.module("gr8conf2015",["autoActive","ngAnimate","ngCookies","ngMessages","ngResource","ngRoute","ngSanitize","ngTouch","smoothScroll","angular-parallax","angular-carousel","config","ui.bootstrap","angulartics","angulartics.google.analytics"]).config(["$routeProvider","$locationProvider","CONFERENCE",function(a,b,c){var d="views/"+c.base;a.when("/",{templateUrl:d+"/front.html",controller:"FrontCtrl",scroll:"top"}).when("/front",{templateUrl:d+"/front.html",controller:"FrontCtrl",scroll:"page"}).when("/venue",{templateUrl:d+"/venue.html",controller:"VenueCtrl",scroll:"page"}).when("/cfp",{templateUrl:d+"/cfp.html",controller:"CfpCtrl",scroll:"page"}).when("/speakers",{templateUrl:d+"/speakers.html",controller:"SpeakersCtrl",scroll:"page"}).when("/speaker/:twitterHandle",{templateUrl:d+"/speaker.html",controller:"SpeakerCtrl",scroll:"page"}).when("/talks",{templateUrl:d+"/talks.html",controller:"TalksCtrl",scroll:"page"}).when("/talk/:id",{templateUrl:d+"/talk.html",controller:"TalkCtrl",scroll:"page"}).when("/agenda",{templateUrl:d+"/agenda.html",controller:"AgendaCtrl",scroll:"page"}).when("/agenda/:currentDay",{templateUrl:d+"/agenda.html",controller:"AgendaCtrl",scroll:"page"}).when("/sponsors",{templateUrl:d+"/sponsors.html",controller:"SponsorsCtrl",scroll:"page"}).when("/crew",{templateUrl:d+"/crew.html",controller:"CrewCtrl",scroll:"page"}).when("/about",{templateUrl:d+"/about.html",controller:"AboutCtrl",scroll:"page"}).when("/registration",{templateUrl:d+"/registration.html",controller:"RegistrationCtrl",scroll:"page"}).when("/rating",{templateUrl:d+"/confrating.html",controller:"ConfRatingCtrl",scroll:"page"}).otherwise({redirectTo:"/"})}]),angular.module("gr8conf2015").run(["$rootScope","$window","smoothScroll","backendService","CONFERENCE",function(a,b,c,d,e){a.scrollToTop=function(){var a=document.getElementById("page");c(a,{offset:50})},OAuth.initialize("1WAuaxiRscO6Q5IP9Yzt980z2dI"),a.conferenceName=e.name,a.eventImageCss="event-"+e.base,a.logoUrl="views/"+e.base+"/templates/logo.html",a.menuUrl="views/"+e.base+"/templates/menu.html",a.eventUrl="views/"+e.base+"/templates/event.html",a.blogUrl="views/"+e.base+"/templates/blog.html",a.socialsUrl="views/"+e.base+"/templates/socials.html",a.sponsorsUrl="views/"+e.base+"/templates/sponsors.html",a.contactsUrl="views/"+e.base+"/templates/contacts.html",a.technologiesUrl="views/templates/technologies.html",void 0!==e.analyticsId&&b.ga("create",e.analyticsId,"auto"),d.bootstrap()}]),angular.module("gr8conf2015").controller("MenuCtrl",["$scope","$location","CONFERENCE",function(a,b,c){a.showRatings=c.ratings}]),angular.module("gr8conf2015").controller("ConfRatingCtrl",["$rootScope","$scope","backendService","authService",function(a,b,c,d){var e=["","Bad","Below Average","Average","Above Average","Excellent"],f=[{title:"Conference Overall",description:"Tell us your overall impression of the conference",levels:e,questions:[{property:"overall",type:"int",title:"Overall impression",tooltip:"Rank us!"},{property:"overallComments",type:"text",title:"General Comments",tooltip:"Be verbose! Unless you tell us, we cannot fix it!"}]},{title:"Pre conference",description:"How was your experience before the conference?",levels:e,questions:[{property:"preInfo",type:"int",title:"Information",tooltip:"How was the information level prior to the conference?"},{property:"preWebsite",type:"int",title:"Website",tooltip:"Did you find what you needed on our website?"},{property:"preRegistration",type:"int",title:"Registration",tooltip:"Did our registration process work for you?"},{property:"preComments",type:"text",title:"Pre-conference comments",tooltip:"What can we do to improve?"}]},{title:"Venue and catering",description:"How was your experience during the conference?",levels:e,questions:[{property:"venueImpression",type:"int",title:"Impression",tooltip:"Did you like the venue? Location, rooms etc?"},{property:"venueCatering",type:"int",title:"Catering",tooltip:"How was the food?"},{property:"venueWorkshopRooms",type:"int",title:"Workshop rooms",tooltip:"If you attended the workshops, how was the rooms?"},{property:"venueAuditoriums",type:"int",title:"Auditoriums",tooltip:"How was the auditoriums"},{property:"venueComments",type:"text",title:"Venue and catering comments",tooltip:"Ideas and tips for improvements?"}]},{title:"Conference content",description:"Did the content of the conference meet your overall expectations?",levels:e,questions:[{property:"confTopicRelevance",type:"int",title:"Overall topic relevance",tooltip:"Did we meet your expectations?"},{property:"confPresentations",type:"int",title:"Overall presentation quality",tooltip:"How was the level?"},{property:"confComments",type:"text",title:"Conference comments",tooltip:"Share your thoughts"}]},{title:"Returning next year?",description:"How likely is it, that you will come to GR8Conf 2016?",levels:["","No","Perhaps if the prices is better","I hope","Yes!","I would not miss it!"],questions:[{property:"beBackSelf",type:"int",title:"If you can choose",tooltip:"Personal preference"},{property:"beBackBoss",type:"int",title:"If your boss decides",tooltip:"What would your boss say?"}]}],g=_.chain(f).map(function(a){return a.questions}).flatten().value();b.saveDisabled=!1,b.questions=f,b.allQuestions=g,b.showLevel=function(a,b){var c=_.find(g,function(b){return b.property==a}),d=_.find(f,function(b){return _.any(b.questions,function(b){return b.property==a})}).levels;c.currentLevel=d[b]};var h=angular.copy(c.getConferenceRating()||{});b.data=h,_.each(g,function(a){b.showLevel(a.property,h[a.property])}),b.save=function(){b.saveDisabled=!0,a.$broadcast("saveConferenceRating",[b.data])};var i=function(){b.isLoggedIn=d.isLoggedIn()};a.$on("login",i),a.$on("logout",i),i();var j=function(){if(d.isLoggedIn()){var a=_.chain(c.getRatings()).values().map(function(a){return c.getTalk(a.id)}).value();console.debug("Ratings: ",a),b.ratingsDone=a,b.ratingsDoneCount=b.ratingsDone.length}};j(),a.$on("saved",function(a,c){"conferenceRating"===c[0]&&(b.saveDisabled=!1)})}]),angular.module("gr8conf2015").controller("LoginCtrl",["$rootScope","$scope","modalService","authService","CONFERENCE",function(a,b,c,d,e){b.login=c.login,b.logout=c.logout,b.showLogin=!1,b.showLogout=!1;var f=function(){b.showLogin=e.login&&!d.isLoggedIn(),b.showLogout=e.login&&d.isLoggedIn(),b.currentUser=d.currentUser(),console.debug(b.currentUser),console.debug(d.isLoggedIn())};a.$on("login",f),a.$on("logout",f),f()}]),angular.module("gr8conf2015").controller("FrontCtrl",["$scope","ENV",function(a,b){}]),angular.module("gr8conf2015").controller("VenueCtrl",["$scope",function(a){a.removeOverlay=function(a,b){$(b).css("pointer-events","")}}]),angular.module("gr8conf2015").controller("CfpCtrl",["$scope",function(a){}]),angular.module("gr8conf2015").controller("FeaturedSpeakersCtrl",["$scope","storage",function(a,b){a.$on("storage.put.featuredSpeakers",function(b,c){a.featuredSpeakers=c}),a.featuredSpeakers=b.get("featuredSpeakers")}]),angular.module("gr8conf2015").controller("SpeakersCtrl",["$scope","storage",function(a,b){a.$on("storage.put.speakers",function(b,c){a.speakers=c}),a.speakers=b.get("speakers")}]),angular.module("gr8conf2015").controller("SpeakerCtrl",["$scope","$routeParams","$location","backendService",function(a,b,c,d){a.speaker=d.getSpeaker(b.twitterHandle)}]),angular.module("gr8conf2015").controller("TalksCtrl",["$scope","storage",function(a,b){function c(a){return a}a.$on("storage.put.talks",function(b,d){a.talks=c(d)}),a.$on("storage.put.tags",function(b,c){a.tags=c}),a.talks=c(b.get("talks")),a.tags=b.get("tags")}]),angular.module("gr8conf2015").controller("TalkCtrl",["$scope","$routeParams","backendService",function(a,b,c){a.talk=c.getTalk(b.id)}]),angular.module("gr8conf2015").controller("CrewCtrl",["$scope","CREW",function(a,b){a.crew=b.crew}]),angular.module("gr8conf2015").controller("AboutCtrl",["$scope",function(a){}]),angular.module("gr8conf2015").controller("RegistrationCtrl",["$scope","CONFERENCE",function(a,b){a.registrationUrl=b.registrationUrl}]),angular.module("gr8conf2015").controller("SponsorsCtrl",["$scope","SPONSORS",function(a,b){a.sponsorGroups=b;var c=_.reduce(b,function(a,b){return _.map(b.sponsors,function(c){a.push({shortName:b.shortName,url:c.url,image:c.image,"class":"sponsor-img sponsor-img-"+b["class"],carousel:b.carousel})}),a},[]);_.each(c,function(a,b){a.id=b}),a.sponsors=c;var d=_.filter(c,function(a){return a.carousel});a.carouselSponsors=d}]),angular.module("gr8conf2015").controller("AgendaCtrl",["$scope","$cookieStore","$routeParams","storage",function(a,b,c,d){a.$on("storage.put.agenda",function(b,c){a.agenda=c}),a.$watch("agenda",function(){var b=a.agenda;b&&(a.dayTabWidth=100/b.length)}),a.agenda=d.get("agenda"),a.currentDay=c.currentDay||d.get("currentDay")||a.agenda[0].day,a.$watch("currentDay",function(){if(a.currentDay){d.put("currentDay",a.currentDay),a.agendaDay=_.find(a.agenda,function(b){return b.day===a.currentDay});var b=a.agendaDay,c=_.find(b.tracks,function(a){return a.allColumns&&a.breaks})||{slots:[]},e=_.filter(b.tracks,function(a){return a.allColumns&&!a.breaks})||{slots:[]},f=_.filter(b.tracks,function(a){return!a.allColumns})||[],g=100/f.length+"%",h=a.calculateAgendaHours(b);a.breaks=c,a.allColumns=e,a.agendaColumns=f,a.trackWidth=g,a.agendaHours=h,a.agendaHeight=60+60*h.length}}),a.dayTitle=function(a){return a?moment(a).format("MMMM D."):""},a.activeDay=function(b){return b===a.currentDay?"active":""},a.calculateAgendaHours=function(a){var b=parseInt(moment(a.start,"HH:mm:ss").format("HH")),c=parseInt(moment(a.end,"HH:mm:ss").format("HH")),d=parseInt(moment(a.end,"HH:mm:ss").format("mm"));return d>0&&c++,_.range(b,c+1)}}]),angular.module("gr8conf2015").controller("TechnologiesCtrl",["$scope",function(a){a.technologies=[{id:1,img:"groovy",title:"Groovy",url:"http://groovy-lang.org"},{id:2,img:"grails",title:"Grails",url:"http://grails.org"},{id:3,img:"griffon",title:"Griffon",url:"http://griffon.codehaus.org"},{id:4,img:"gradle",title:"Gradle",url:"http://gradle.org"},{id:5,img:"boot",title:"Spring Boot",url:"http://projects.spring.io/spring-boot"},{id:6,img:"spock",title:"Spock",url:"http://spockframework.org/"},{id:7,img:"geb",title:"Geb",url:"http://gebish.org/"},{id:8,img:"angularjs",title:"AngularJS",url:"http://angularjs.org"}]}]),angular.module("gr8conf2015").directive("agendaItem",function(){return{restrict:"E",replace:!0,templateUrl:"views/templates/agenda-item.html",scope:{item:"=",startHour:"=",color:"=",room:"="},controller:["$scope","backendService",function(a,b){var c=a.item;a.topValue=60*(convertTimeToInteger(c.start)-a.startHour+1),a.height=60*(convertTimeToInteger(c.end)-convertTimeToInteger(c.start+1)),a.small=a.height<20?"small-row small":"",a["break"]=a.height>20,a.start=moment(c.start,"HH:mm:ss").format("HH:mm"),a.end=moment(c.end,"HH:mm:ss").format("HH:mm"),a.showRoom=void 0!=a.room&&""!=a.room,a.speakers=_.collect(c.speakers,function(a){return b.getSpeakerById(a.id)})}]}}).directive("agendaTrack",function(){return{restrict:"E",replace:!0,transclude:!0,templateUrl:"views/templates/agenda-track.html"}}).directive("breakItem",function(){return{restrict:"E",replace:!0,templateUrl:"views/templates/agenda-break-item.html",scope:{item:"=",startHour:"=",color:"="},controller:["$scope",function(a){var b=a.item;a.topValue=60*(convertTimeToInteger(b.start)-a.startHour+1),a.height=60*(convertTimeToInteger(b.end)-convertTimeToInteger(b.start+1)),a.small=a.height<20?"small":""}]}}).directive("breakIcon",function(){return{restrict:"E",replace:!0,templateUrl:"views/templates/agenda-break-icon.html",scope:{item:"=",startHour:"=",color:"="},controller:["$scope",function(a){var b=a.item;b.icon=b.icon.replace("food","cutlery").replace("icon","fa"),a.topValue=60*(convertTimeToInteger(b.start)-a.startHour+1),a.height=60*(convertTimeToInteger(b.end)-convertTimeToInteger(b.start+1)),a.small=a.height<20?"small":""}]}}),angular.module("gr8conf2015").directive("speaker",function(){return{restrict:"E",replace:!1,templateUrl:"views/templates/speaker-template.html",scope:{speaker:"=",detailed:"="}}}),angular.module("gr8conf2015").directive("speakerCarousel",function(){return{restrict:"E",replace:!1,templateUrl:"views/templates/speaker-carousel-template.html",scope:{speaker:"="}}}),angular.module("gr8conf2015").directive("talk",function(){return{restrict:"E",replace:!0,templateUrl:"views/templates/talk-template.html",scope:{talk:"=",detailed:"="},controller:["$scope","backendService","CONFERENCE",function(a,b,c){a.ratingEnabled=c.ratings,a.getSpeaker=function(a){return b.getSpeakerById(a.id)}}]}}),angular.module("gr8conf2015").directive("crew",function(){return{restrict:"E",replace:!1,templateUrl:"views/templates/crew-directive.html",scope:{item:"="},controller:["$scope","CONFERENCE",function(a,b){var c=a.item;a.imageUrl="/images/"+b.base+"/crew/"+c.image}]}}),angular.module("gr8conf2015").directive("gr8rating",[function(){return{restrict:"E",replace:!0,templateUrl:"views/templates/rating.html",scope:{id:"="},controller:["$scope","$rootScope","backendService","CONFERENCE","authService","modalService",function(a,b,c,d,e,f){var g=a.id;a.isEnabled=d.ratings,a.isLoggedIn=e.isLoggedIn(),a.rated=e.isLoggedIn()?c.getRating(g):{},a.openRating=function(a){a.stopPropagation(),e.isLoggedIn()&&f.editRating(g)};var h=function(b,d){"ratings"===d[0]&&(a.rated=e.isLoggedIn()?c.getRating(g):{},i())},i=function(){var b=a.rated&&a.rated.id;a.icon=e.isLoggedIn()?b?"rated":"unrated":"disabled",a.tooltip=e.isLoggedIn()?b?"Click to change rating":"Click to rate":"Login in to use rating"};a.$watch("rated",i),b.$on("loaded",h),b.$on("saved",h),b.$on("login",function(){a.rated=c.getRating(g)}),b.$on("logout",function(){a.isLoggedIn=!1,i()})}]}}]),angular.module("gr8conf2015").directive("favorite",["backendService","CONFERENCE",function(a,b){return{restrict:"E",replace:!0,templateUrl:"/views/templates/favorite.html",scope:{id:"="},controller:["$scope","$rootScope","authService",function(c,d,e){var f=c.id;c.isEnabled=b.favorites,c.isLoggedIn=e.isLoggedIn(),c.favorited=e.isLoggedIn()?a.isFavorite(f):!1,c.toggleFavorite=function(a){a.stopPropagation(),e.isLoggedIn()&&(c.favorited=!c.favorited,d.$broadcast("favorited",[f,c.favorited]))},c.$watch("favorited",function(){c.icon=e.isLoggedIn()?c.favorited?"selected":"unselected":"disabled",c.tooltip=e.isLoggedIn()?c.favorited?"Click to un-favorite":"Click to favorite":"Login in to use favorites"}),d.$on("favorited",function(a,b){var d=b[0],e=b[1];d===f&&(c.favorited=e)});var g=function(b,d){"favorites"===d[0]&&(c.favorited=e.isLoggedIn()?a.isFavorite(f):!1,c.icon=e.isLoggedIn()?c.favorited?"selected":"unselected":"disabled",c.tooltip=e.isLoggedIn()?c.favorited?"Click to un-favorite":"Click to favorite":"Login in to use favorites")};d.$on("loaded",g),d.$on("saved",g),d.$on("login",function(){c.favorited=a.isFavorite(f)}),d.$on("logout",function(){c.isLoggedIn=!1,c.icon="disabled",c.tooltip="Login to use favorites"})}]}}]),angular.module("gr8conf2015").directive("mapclick",function(){return{restrict:"E",replace:!0,transclude:!0,template:'<div class="map embed-container"><div id="map-notice" style="display: block;">Click to navigate map</div><div class="map-overlay" style="display: block;"></div><div ng-transclude></div></div>',link:function(a,b,c){var d=$(b),e=$("#map-notice",d),f=$(".map-overlay"),g=function(a){e.fadeIn(500);var b=$(this);b.on("click",h),b.off("mouseleave",g),f.fadeIn(500)},h=function(a){e.fadeOut(500);var b=$(this);b.off("click",h),f.fadeOut(500),b.on("mouseleave",g)};d.on("click",h)}}}),angular.module("gr8conf2015").service("backendService",["$rootScope","$http","storage","authService","API","CONFERENCE","ENV",function(a,b,c,d,e,f,g){function h(a){a&&b.get(e.speakers+f.id).success(function(a){var b=_.filter(a,function(a){return a.featured}),d=a;c.put("featuredSpeakers",b),c.put("speakers",d)})}function i(a){a&&b.get(e.talks+f.id).success(function(a){c.put("talks",a)})}function j(){b.get(e.tags+f.id).success(function(a){c.put("tags",a)})}function k(a){a&&b.get(e.agenda+f.id).success(function(a){c.put("agenda",a)})}function l(){d.isLoggedIn()&&b.get(e.loadFavorites,{params:s()}).success(function(b){c.put("favorites",b),a.$broadcast("loaded",["favorites",b])})}function m(f,g){d.isLoggedIn()&&b.put(e.saveFavorite,r({talk:{id:f},status:g})).success(function(b){c.put("favorites",b),a.$broadcast("saved",["favorites",b])})}function n(){d.isLoggedIn()&&b.get(e.loadRatings,{params:s()}).success(function(b){c.put("ratings",b),a.$broadcast("loaded",["ratings",b])})}function o(f,g){if(d.isLoggedIn()){var h=r(angular.extend({talk:{id:f}},g));b.post(e.saveRating,h).success(function(b){c.put("ratings",b),a.$broadcast("saved",["ratings",b])})}}function p(f){if(d.isLoggedIn()){var g=r(f);b.put(e.saveConferenceRating,g).success(function(b){c.put("conferenceRating",b),a.$broadcast("saved",["conferenceRating",b])})}}function q(){d.isLoggedIn()&&b.get(e.loadConferenceRating,{params:s()}).success(function(b){c.put("conferenceRating",b),a.$broadcast("loaded",["conferenceRating",b])})}function r(a){var b=d.currentUser(),c=angular.extend({conference:{id:f.id},uuid:b.uuid},a||{});return c}function s(){var a=d.currentUser(),b=angular.extend({"conference.id":f.id,uuid:a.uuid}||{});return b}this.bootstrap=function(){b.get(e.status+f.id).success(function(a){var b=e.reload?{}:c.get("status")||{};h(b.speakers!=a.speakers),i(b.talks!=a.talks),j(),k(b.agenda!=a.agenda),l(),n(),q(),c.put("status",a)})},this.isFavorite=function(a){var b=c.get("favorites")||[];return _.some(b,function(b){return b==a})},this.getRating=function(a){var b=c.get("ratings")||[];return _.find(b,function(b){return b.id==a})},this.getRatings=function(){return c.get("ratings")||[]},this.getTalk=function(a){var b=c.get("talks")||[];return _.find(b,function(b){return b.id==a})},this.getConferenceRating=function(){return c.get("conferenceRating")},this.getSpeaker=function(a){return _.find(c.get("featuredSpeakers")||[],function(b){return b.twitter==a})||_.find(c.get("speakers")||[],function(b){return b.twitter==a})},this.getSpeakerById=function(a){return _.find(c.get("featuredSpeakers")||[],function(b){return b.id==a})||_.find(c.get("speakers")||[],function(b){return b.id==a})},a.$on("favorited",function(a,b){var d=c.get("favorites")||[],e=b[0],f=b[1];f?d.push(e):d=_.reject(d,function(a){return a==b[0]}),c.put("favorites",d),m(e,f)}),a.$on("saveRating",function(a,b){var c=b[0],d=b[1];o(c,d)}),a.$on("saveConferenceRating",function(a,b){var c=b[0],d=b[1];p(c,d)}),a.$on("login",function(){l(),n(),q()})}]),angular.module("gr8conf2015").factory("authService",["$rootScope","$log","dataService","modalService","storage","CONFERENCE",function(a,b,c,d,e,f){var g=e.get("currentUser");return{login:function(b){g=void 0,e.remove("currentUser"),c.getCode(function(h){var i=h.code;OAuth.popup(b,{state:i},function(h,j){h?(d.showError("Remember to allow popup windows to login"),console.error(h)):(j.provider=b,j.state=i,j["conference.id"]=f.id,e.put("oauthResponse",j),c.getUser(j,function(b){return g=b,e.put("currentUser",g),412===b.status?void d.requestUserInfo(b):500===b.status?void d.showError(b.message):void a.$broadcast("login",[g])}))})})},logout:function(){g=void 0,e.remove("currentUser"),a.$broadcast("logout")},isLoggedIn:function(){return void 0!=g&&200==g.status},currentUser:function(){return e.get("currentUser")},relogin:function(b,f){var h=e.get("oauthResponse");h.name=b,h.email=f,c.getUser(h,function(b){g=b,e.put("currentUser",g),a.$broadcast("login",[g]),g=b,500==b.status&&d.showError(b.message)})}}}]),angular.module("gr8conf2015").service("blogService",["$http","$log","CONFERENCE",function(a,b,c){function d(a,b){200==a.meta.status?(e=a.response.blog.posts,b(a.response)):b(a.meta)}var e=-1;this.getBlogs=function(b,e,f){"function"==typeof e&&(f=e,e=0),"function"==typeof b&&(f=b,b=3,e=0),a.get("http://api.tumblr.com/v2/blog/"+c.blogUrl+"/posts",{params:{api_key:c.blogApiKey,limit:b,offset:e,type:"text"}}).success(function(a){d(a,f)}).error(function(a){console.error(a)})},this.getBlog=function(e,f){"function"!=typeof f&&(b.warn("Not called with id and callback"),f({error:"Something is wrong: You did not call with id and callback"})),a.get("http://api.tumblr.com/v2/blog/"+c.blogUrl+"/posts",{params:{api_key:c.blogApiKey,id:e}}).success(function(a){d(a,f)}).error(function(a){console.error(a)})}}]),angular.module("gr8conf2015").service("dataService",["$http","API",function(a,b){this.getCode=function(c){a.get(b.getCode).success(function(a){c(a)}).error(function(a){console.error(a)})},this.getUser=function(c,d){a.get(b.getUser,{params:c}).success(function(a){d(a)}).error(function(a){console.error(a)})}}]),angular.module("gr8conf2015").service("MenuService",function(){}),angular.module("gr8conf2015").service("modalService",["$modal","$window",function(a,b){this.requestUserInfo=function(b){a.open({templateUrl:"/views/templates/modal/_userinfo.html",controller:["$scope","$modalInstance","authService",function(a,c,d){a.input={name:b.name},a.save=function(){d.relogin(a.input.name,a.input.email),c.dismiss("cancel")},a.cancel=function(){c.dismiss("cancel")}}]})},this.editRating=function(b){a.open({size:"lg",templateUrl:"/views/templates/modal/_showrating.html",windowClass:"modalBlog",controller:["$scope","$rootScope","$modalInstance","backendService",function(a,c,d,e){var f=["","Irrelevant to me","Not really that relevant, but nice to know.","It sparked my interest...","I need to pursuade my boss to use it","Just what I was looking for!"],g=["","Poor","Needs more work.","This was ok. Average I would say.","This was pretty good.","One word: Cool!"],h=["","This was just an overview, right?","A bit more depth would have been nice","About right","I could follow it - unless I blinked","Way over my head..."],i=["","Unprepared","A little more preparation would help","This was ok. Average I would say.","Good job indeed","Skills - she/he got skills!"];a.showTalkRelevance=function(b){a.talkRelevance=f[b]},a.showTalkQuality=function(b){a.talkQuality=g[b]},a.showTalkLevel=function(b){a.talkLevel=h[b]},a.showSpeakerQuality=function(b){a.speakerQuality=i[b]},a.talk=e.getTalk(b);var j=_.first(a.talk.speakers);a.speaker=e.getSpeakerById(j.id);var k=angular.copy(e.getRating(b)||{});a.data=k,a.showTalkLevel(k.talkLevel),a.showTalkRelevance(k.talkRelevance),a.showTalkQuality(k.talkQuality),a.showSpeakerQuality(k.speakerQuality),a.save=function(){c.$broadcast("saveRating",[b,a.data]),d.dismiss("cancel")},a.cancel=function(){d.dismiss("cancel")}}]})},this.showError=function(c){a.open({templateUrl:"/views/templates/modal/_showError.html",windowClass:"modalBlog",controller:["$scope","$modalInstance",function(a,d){a.message=c,a.open=function(a){d.dismiss("cancel"),b.open(a)},a.cancel=function(){d.dismiss("cancel")}}]})},this.login=function(){a.open({size:"lg",templateUrl:"/views/templates/modal/_showLogin.html",windowClass:"modal",controller:["$scope","$modalInstance","authService",function(a,b,c){a.login=function(a){b.dismiss("cancel"),c.login(a)},a.cancel=function(){b.dismiss("cancel")}}]})},this.logout=function(){a.open({templateUrl:"/views/templates/modal/_showLogout.html",windowClass:"modal",controller:["$scope","$modalInstance","authService",function(a,b,c){a.logout=function(){c.logout(),b.dismiss("cancel")},a.cancel=function(){b.dismiss("cancel")}}]})}}]),angular.module("gr8conf2015").service("storage",["$log","$rootScope",function(a,b){return{get:function(a,b){var c=localStorage[a];if("undefined"!=c){var d=angular.fromJson(localStorage[a]);return d}},put:function(a,c){localStorage[a]=angular.toJson(c),b.$broadcast("storage.put."+a,c)},remove:function(a){localStorage.removeItem(a),b.$broadcast("storage.remove."+a,a)},reset:function(){localStorage.clear(),b.$broadcast("storage.reset")}}}]);